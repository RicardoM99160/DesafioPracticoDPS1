<div [hidden]="enviar" class="card">
    <h3 class="card-title">REGISTRO DE VISITAS</h3>
    <div class="card-body">
        <form #tiendaform = "ngForm" (ngSubmit)="registrarCita()">
            <div class="form-group">
                <label for="cliente">Nombre del cliente</label>
                <select class="form-control" name="cliente" [(ngModel)]="nombreClienteSeleccionado" (change)="seleccionarCliente()" #nombreCliente="ngModel" required>
                    <option value="">--- Elige un cliente ---</option>
                    <option *ngFor="let cliente of clientes"  value="{{cliente.nombre}}">{{cliente.nombre}}</option>
                </select>
            </div>
            <div class="form-group">
                <label for="mascota">Nombre de mascota</label>
                <select class="form-control" name="mascota" [(ngModel)]="nombreMascotaSeleccionada" (change)="descuentoAplicado()" #nombreMascota="ngModel" required>
                    <option value="">--- Elige una mascota ---</option>
                    <option *ngFor="let mascota of clienteSeleccionado.mascotas"  value="{{mascota.nombre}}">{{mascota.nombre}}</option>
                </select>
            </div>
            <div class="form-group">
                <label for="servicio">Servicio a realizar</label>
                <select class="form-control" name="servicio" [(ngModel)]="servicioSeleccionado" (change)="seleccionarServicio()" #servicio="ngModel" required>
                    <option value="">--- Elige un servicio ---</option>
                    <option *ngFor="let servicio of servicios" value="{{servicio}}">{{servicio}}</option>
                </select>
            </div>
            <div class="form-group">
                <label for="citas">Cantidad de citas de la mascota</label>
                <input type="text" name="citas" class="form-control" value="{{citas}}" readonly>
            </div>
            <div class="form-group">
                <label for="precioSin">Ultimo servicio realizado</label>
                <input type="text" name="precioSin" class="form-control" value="{{ultimoServicio}}" readonly>
            </div>
            <div class="form-group">
                <label for="precioSin">Precio sin descuento</label>
                <input type="text" name="precioSin" class="form-control" value="{{precio}}" readonly>
            </div>
            <div class="form-group">
                <label for="descuento">Descuento a aplicar</label>
                <input type="text" name="descuento" class="form-control" value="{{descuento}}" readonly>
            </div>
            <div class="form-group">
                <label for="precioCon">Precio con descuento</label>
                <input type="text" name="precioCon" class="form-control" value="{{precioDescuento}}" readonly>
            </div>
            <button type="submit" class="btn btn-primary" [disabled]="!tiendaform.form.valid">Registar</button>
        </form>
    </div>
</div>


<div [hidden]="!enviar" class="card" style="width: 18rem; margin: 0 auto;">
    <div class="card-body text-center">
      <h5 class="card-title" style="margin-top: 10PX;">DETALLES FACTURA n°{{numeroFactura}}</h5>
    </div>
    <ul class="list-group list-group-flush">
      <li class="list-group-item"><b style="padding-right: 10px;">Dueño de la mascota:</b>  {{nombreClienteSeleccionado}}</li>
      <li class="list-group-item"><b style="padding-right: 10px;">Nombre de la mascota:</b>  {{nombreMascotaSeleccionada}}</li>
      <li class="list-group-item"><b style="padding-right: 10px;">Servicio brindado:</b>  {{servicioSeleccionado}}</li>
      <li class="list-group-item"><b style="padding-right: 10px;">Descuento aplicado:</b>  {{descuento}}</li>
      <li class="list-group-item"><b style="padding-right: 10px;">Costo:</b>  {{precioDescuento}}</li>
    </ul>
    <div class="card-body text-center">
      <button class="btn btn-primary" (click)="regresarFormulario(tiendaform)" style="margin: 10px 0;">Almacenar</button>
    </div>
  </div>